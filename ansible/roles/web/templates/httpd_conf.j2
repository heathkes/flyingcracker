ServerRoot "{{ application_path }}/apache2"

LoadModule dir_module        modules/mod_dir.so
LoadModule env_module        modules/mod_env.so
LoadModule log_config_module modules/mod_log_config.so
LoadModule mime_module       modules/mod_mime.so
LoadModule rewrite_module    modules/mod_rewrite.so
LoadModule setenvif_module   modules/mod_setenvif.so
LoadModule wsgi_module       modules/mod_wsgi.so

LogFormat "%{X-Forwarded-For}i %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
CustomLog {{ log_path }}/access_{{ application_name }}.log combined
ErrorLog {{ log_path }}/error_{{ application_name }}.log
KeepAlive Off
Listen 10663
MaxSpareThreads 3
MinSpareThreads 1
ServerLimit 1
SetEnvIf X-Forwarded-SSL on HTTPS=1
ThreadsPerChild 5
WSGIPythonPath {{ project_path }}:{{ application_path }}/lib/python2.7
WSGIDaemonProcess {{ application_name }} processes=2 threads=12 python-path={{ project_path }}:{{ application_path }}/lib/python2.7
WSGIProcessGroup {{ application_name }}
WSGIRestrictEmbedded On
WSGILazyInitialization On
WSGIScriptAlias / {{ application_path }}/wsgi.py

#WSGIPythonPath /home/graham/webapps/fc3staging:/home/graham/.virtualenvs/fc3staging/src/fc3:/home/graham/webapps/fc3staging/lib/python2.7
#WSGIDaemonProcess fc3staging processes=2 threads=12 python-path=/home/graham/webapps/fc3staging:/home/graham/.virtualenvs/fc3staging/src/fc3:/home/graham/webapps/fc3staging/lib/python2.7
